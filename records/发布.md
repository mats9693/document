# 发布（未完待续，不定期更新）  
> 简单记录发布项目到服务器上的步骤  
> 项目包括vue前端、go后端与postgres数据库；使用原地发布，故文中未明确区分部署与发布的概念

---
### 准备  
 - vue编译之后的文件（html/js/css）（以下简称dist文件夹）
 - go后端程序的可执行文件（linux）（以下简称go程序）
 - 在服务器上配置好可以连接的pg数据库
 
 
 - 一个可以远程连接服务器并执行命令的程序（例如putty）
 - 一个可以上传文件到服务器的程序（例如winscp）
 - 远程连接到服务器所需要的证书（.pem文件）
 - 远程连接到服务器所使用的用户名和密码（user/pwd）
 
 
 - 一个可以编译出linux可执行文件的环境（例如vmware+ubuntu）
 
---
### 简述
> 因为前期准备工作多已完成，这里没有提到的步骤即代表我没有操作过  

关于linux的go后端程序可执行文件的获取，我使用的是vmware workstation player 15 + ubuntu18.04  
小提示：如果对于linux的操作不熟悉，还可以通过go语言编译工具进行环境配置与编译。

现在，我们假设你已经得到了dist文件夹与go程序，并且完成了putty与winscp的下载。

发布的顺序大概是这样的：
 - 通过winscp把文件上传到服务器指定路径；
 - 修改可能存在的需要修改的配置文件（如果没有配置文件或不需要修改，则跳过）；
 - 通过putty远程连接到服务器，启动go程序。

---
### FAQ
 - winscp的使用与注意事项？  
 winscp使用很简单，唯一需要注意的就是，需要为go程序添加执行权限（可以在winscp中操作）。  
 - putty的使用与注意事项？  
 putty使用.ppk文件而非.pem文件，需要使用puttygen工具进行转换。
 - 用到的linux命令？
   - (./xxx &)：后台运行xxx（例如本项目中的go程序），不依赖于当前终端
   - lsof -i:[port id]：检查指定端口是否被占用，未占用则无显示、已占用则显示进程相关信息；可以只输入 **-i** 而不提供具体端口号
   - kill [pid]：结束指定进程号的进程 

---
###### Mario
I've been pretending to work hard, but you're really growing up.
